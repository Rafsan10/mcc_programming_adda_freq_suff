<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCC Class: Prefix, Suffix & Frequency</title>
    <style>
        :root {
            --bg-color: #0f172a;       /* Dark Navy */
            --card-bg: #1e293b;        /* Slate */
            --text-main: #f1f5f9;      /* White-ish */
            --accent-blue: #38bdf8;    /* Cyan */
            --accent-pink: #f472b6;    /* Pink */
            --accent-green: #4ade80;   /* Green */
            --accent-yellow: #facc15;  /* Yellow */
            --accent-purple: #c084fc;  /* Purple */
            --code-bg: #0d1117;        /* Github Dark */
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, sans-serif; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- Header --- */
        header {
            height: 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            background: rgba(15, 23, 42, 0.95);
            border-bottom: 2px solid var(--accent-blue);
            z-index: 10;
        }
        .brand { font-size: 1.4rem; font-weight: 800; color: var(--accent-blue); letter-spacing: 1px; }
        .instructor { color: var(--accent-pink); font-weight: 600; font-size: 1rem; }

        /* --- Slide Area --- */
        .slides-wrapper {
            flex: 1;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .slide {
            position: absolute;
            width: 90%;
            height: 90%;
            max-width: 1400px; /* Wider for code */
            background: var(--card-bg);
            border-radius: 16px;
            padding: 40px 60px;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateX(50px);
            pointer-events: none;
            transition: opacity 0.4s ease, transform 0.4s ease;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
            z-index: 5;
        }

        /* --- Content Styling --- */
        h1 { font-size: 3rem; color: var(--accent-blue); margin-bottom: 20px; }
        h2 { font-size: 2.2rem; color: var(--accent-pink); margin-bottom: 15px; display: flex; align-items: center; gap: 15px; }
        p { font-size: 1.3rem; line-height: 1.6; margin-bottom: 20px; color: #cbd5e1; }
        
        .tag {
            display: inline-block;
            background: var(--accent-blue);
            color: #000;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.85rem;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .concept-box {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .visual-box {
            flex: 1;
            background: rgba(255,255,255,0.05);
            border-left: 5px solid var(--accent-yellow);
            padding: 20px;
            border-radius: 0 8px 8px 0;
            font-size: 1.2rem;
        }

        /* --- Improved Code Blocks --- */
        .code-container {
            flex: 1;
            background: var(--code-bg);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            overflow: auto;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
            position: relative;
        }

        pre {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.2rem; /* Larger font */
            line-height: 1.5;
            color: #e6edf3;
            tab-size: 4;
        }

        /* Syntax Highlighting */
        .kwd { color: #ff7b72; font-weight: bold; } /* Keywords (int, for, if) */
        .typ { color: #79c0ff; } /* Types/Functions */
        .str { color: #a5d6ff; } /* Strings */
        .com { color: #8b949e; font-style: italic; } /* Comments */
        .num { color: #d2a8ff; } /* Numbers */
        .op  { color: #d2a8ff; } /* Operators */

        /* --- Footer / Controls --- */
        .controls {
            height: 70px;
            display: flex;
            justify-content: center;
            gap: 20px;
            align-items: center;
            background: var(--bg-color);
        }

        button {
            background: transparent;
            border: 2px solid var(--accent-blue);
            color: var(--accent-blue);
            padding: 10px 40px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }

        button:hover {
            background: var(--accent-blue);
            color: #000;
        }

        .hint {
            margin-top: auto;
            text-align: center; 
            font-size: 1.1rem;
            color: var(--accent-green);
            background: rgba(74, 222, 128, 0.1);
            padding: 10px;
            border-radius: 8px;
        }

    </style>
</head>
<body>

    <header>
        <div class="brand">MIST COMPUTER CLUB</div>
        <div class="instructor">Instructor: Rafsan Hasan Ratul</div>
    </header>

    <div class="slides-wrapper">

        <div class="slide active">
            <div style="text-align: center; margin-top: 80px;">
                <h1 style="font-size: 4.5rem; line-height: 1.2;">Prefix, Suffix <br>&<br> Frequency Arrays</h1>
                <p style="font-size: 1.8rem; color: var(--accent-pink); margin-top: 20px;">The Holy Trinity of Competitive Programming</p>
                <div style="font-size: 5rem; margin: 40px;">üß©</div>
                <p>Press <strong>Next</strong> to start the class.</p>
            </div>
        </div>  

        <div class="slide">
            <span class="tag">Fundamental Concept</span>
            <h2>What is a Frequency Array?</h2>
            <p>Imagine you have a bag of numbered balls. You want to know how many balls have the number "5" written on them.</p>
            
            <div class="concept-box">
                <div class="visual-box">
                    <strong>Input Array:</strong> <code>[1, 3, 1, 5, 1, 3]</code><br><br>
                    <strong>We create a "Bucket" (Array) for every number:</strong><br>
                    Index 0: 0 times<br>
                    Index 1: 3 times <span style="color:var(--accent-green)">(Count of 1s)</span><br>
                    Index 2: 0 times<br>
                    Index 3: 2 times<br>
                    Index 5: 1 time
                </div>
            </div>

            <h3>Why do we need it?</h3>
            <p><strong>Without Freq Array:</strong> To count '1's, we loop through the whole array. Time: O(N).<br>
            <strong>With Freq Array:</strong> We just look at <code>freq[1]</code>. Time: O(1).</p>
            <p class="hint">‚ö†Ô∏è Limitation: If numbers are very large (e.g., 10^9), we can't make an array that big!</p>
        </div>

        <div class="slide">
            <span class="tag">Fundamental Concept</span>
            <h2>What is a Prefix Sum?</h2>
            <p>It is the running total of an array. <code>P[i]</code> contains the sum of everything from index <code>0</code> to <code>i</code>.</p>
            
            <div class="code-container" style="max-height: 300px;">
<pre>
<span class="com">// Building a Prefix Sum Array</span>
<span class="kwd">int</span> arr[] <span class="op">=</span> {<span class="num">1</span>, <span class="num">2</span>, <span class="num">3</span>, <span class="num">4</span>};
<span class="kwd">int</span> P[<span class="num">4</span>];

P[<span class="num">0</span>] <span class="op">=</span> arr[<span class="num">0</span>];
<span class="kwd">for</span>(<span class="kwd">int</span> i <span class="op">=</span> <span class="num">1</span>; i <span class="op">&lt;</span> <span class="num">4</span>; i<span class="op">++</span>) {
    P[i] <span class="op">=</span> P[i<span class="op">-</span><span class="num">1</span>] <span class="op">+</span> arr[i];
}
<span class="com">// Result P: {1, 3, 6, 10}</span>
</pre>
            </div>
            
            <br>
            <h3>Why do we need it?</h3>
            
            <p>To calculate the sum of a range <code>[L, R]</code> instantly using the formula: <br>
            <strong style="color:var(--accent-yellow); font-size: 1.5rem;">Sum = P[R] - P[L-1]</strong></p>
        </div>

        <div class="slide">
            <span class="tag">Problem 1: Classic</span>
            <h2>Range Sum Query</h2>
            <div class="visual-box">
                <strong>Input:</strong> Array <code>[10, 20, 30, 40, 50]</code><br>
                <strong>Queries:</strong> <br>
                1. Sum from index 1 to 3?<br>
                2. Sum from index 0 to 2?<br>
                3. Sum from index 2 to 4?
            </div>
            <p><strong>Constraint:</strong> You have 1,000,000 queries. You cannot use a loop for every query (Time Limit Exceeded).</p>
            <div class="hint">üí° Use the Prefix Sum formula.</div>
        </div>

        <div class="slide">
            <span class="tag">Solution 1</span>
            <h2>O(1) Range Sum</h2>
            <div class="code-container">
<pre>
<span class="kwd">int</span> main() {
    <span class="kwd">int</span> n <span class="op">=</span> <span class="num">5</span>;
    <span class="kwd">int</span> arr[] <span class="op">=</span> {<span class="num">10</span>, <span class="num">20</span>, <span class="num">30</span>, <span class="num">40</span>, <span class="num">50</span>};
    
    <span class="com">// 1. Build Prefix Array</span>
    <span class="kwd">int</span> P[<span class="num">5</span>];
    P[<span class="num">0</span>] <span class="op">=</span> arr[<span class="num">0</span>];
    <span class="kwd">for</span>(<span class="kwd">int</span> i <span class="op">=</span> <span class="num">1</span>; i <span class="op">&lt;</span> n; i<span class="op">++</span>) {
        P[i] <span class="op">=</span> P[i<span class="op">-</span><span class="num">1</span>] <span class="op">+</span> arr[i];
    }
    <span class="com">// P is now {10, 30, 60, 100, 150}</span>

    <span class="com">// 2. Answer Queries</span>
    <span class="kwd">int</span> L <span class="op">=</span> <span class="num">1</span>, R <span class="op">=</span> <span class="num">3</span>; <span class="com">// Query 1</span>
    
    <span class="kwd">int</span> ans;
    <span class="kwd">if</span>(L <span class="op">==</span> <span class="num">0</span>) 
        ans <span class="op">=</span> P[R];
    <span class="kwd">else</span> 
        ans <span class="op">=</span> P[R] <span class="op">-</span> P[L<span class="op">-</span><span class="num">1</span>];

    <span class="com">// Calculation: P[3] - P[0] = 100 - 10 = 90. Correct (20+30+40).</span>
}
</pre>
            </div>
        </div>

        <div class="slide">
            <span class="tag">Concept</span>
            <h2>Suffix Sums</h2>
            <p>Prefix Sum goes from <strong>Left to Right ->->->->-></strong><br>
            Suffix Sum goes from <strong>Right to Left <-<-<-<-<- </strong></p>
            <p><code>Suffix[i]</code> = Sum of all elements from index <code>i</code> to the <code>end</code>.</p>
            
            <div class="visual-box">
                Arr: [ 1,  2,  3 ]<br>
                Suf: [ 6,  5,  3 ] <br>
                <small>Index 2: 3<br>Index 1: 2+3=5<br>Index 0: 1+2+3=6</small>
            </div>
            
            <div class="hint">üí° This is useful when we need to split the array into two parts.</div>
        </div>

        <div class="slide">
            <span class="tag">Problem 2: Prefix + Suffix</span>
            <h2>Find the Equilibrium Index</h2>
            <div class="visual-box">
                <strong>Input:</strong> <code>[-7, 1, 5, 2, -4, 3, 0]</code><br>
                <strong>Goal:</strong> Find an index <code>i</code> such that:<br>
                Sum of elements to the LEFT of <code>i</code> == Sum of elements to the RIGHT of <code>i</code>.
            </div>
            <p><strong>Naive approach:</strong> For every index, run two loops (left and right). O(N¬≤).<br>
            <strong>Better approach:</strong> Can we use Prefix and Suffix arrays?</p>
        </div>

        <div class="slide">
            <span class="tag">Solution 2</span>
            <h2>Using Precomputed Arrays</h2>
            <div class="code-container">
<pre>
<span class="kwd">int</span> main() {
    <span class="kwd">int</span> n <span class="op">=</span> <span class="num">7</span>;
    <span class="kwd">int</span> A[] <span class="op">=</span> {<span class="op">-</span><span class="num">7</span>, <span class="num">1</span>, <span class="num">5</span>, <span class="num">2</span>, <span class="op">-</span><span class="num">4</span>, <span class="num">3</span>, <span class="num">0</span>};
    <span class="kwd">int</span> P[<span class="num">7</span>], S[<span class="num">7</span>];

    <span class="com">// 1. Build Prefix (Left to Right)</span>
    P[<span class="num">0</span>] <span class="op">=</span> A[<span class="num">0</span>];
    <span class="kwd">for</span>(<span class="kwd">int</span> i<span class="op">=</span><span class="num">1</span>; i<span class="op">&lt;</span>n; i<span class="op">++</span>) P[i] <span class="op">=</span> P[i<span class="op">-</span><span class="num">1</span>] <span class="op">+</span> A[i];

    <span class="com">// 2. Build Suffix (Right to Left)</span>
    S[n<span class="op">-</span><span class="num">1</span>] <span class="op">=</span> A[n<span class="op">-</span><span class="num">1</span>];
    <span class="kwd">for</span>(<span class="kwd">int</span> i<span class="op">=</span>n<span class="op">-</span><span class="num">2</span>; i<span class="op">&gt;=</span><span class="num">0</span>; i<span class="op">--</span>) S[i] <span class="op">=</span> S[i<span class="op">+</span><span class="num">1</span>] <span class="op">+</span> A[i];

    <span class="com">// 3. Check Equilibrium</span>
    <span class="kwd">for</span>(<span class="kwd">int</span> i<span class="op">=</span><span class="num">0</span>; i<span class="op">&lt;</span>n; i<span class="op">++</span>) {
        <span class="com">// Check if prefix sum == suffix sum at this point</span>
        <span class="kwd">if</span>(P[i] <span class="op">==</span> S[i]) {
            <span class="kwd">cout</span> <span class="op">&lt;&lt;</span> <span class="str">"Equilibrium found at index "</span> <span class="op">&lt;&lt;</span> i <span class="op">&lt;&lt;</span> <span class="kwd">endl</span>;
            <span class="com">// Note: P[i] includes A[i], S[i] includes A[i]. </span>
            <span class="com">// If strict left/right sum is needed, compare P[i-1] == S[i+1]</span>
        }
    }
}
</pre>
            </div>
        </div>

        <div class="slide">
            <span class="tag">Problem 3: Prefix + Frequency</span>
            <h2>Subarrays with Sum = K</h2>
            <div class="visual-box">
                <strong>Input:</strong> <code>[1, 2, 3, 0, 3]</code>, k = 3<br>
                <strong>Question:</strong> How many contiguous subarrays sum to 3?
            </div>
            <p><strong>The Math:</strong><br>
            Sum(L, R) = Prefix[R] - Prefix[L-1] = K<br>
            Prefix[L-1] = Prefix[R] - K</p>
            <p>This means: At current index R, has the value <code>(Prefix[R] - k)</code> appeared before?</p>
            <div class="hint">üí° We need a Frequency Array to remember past Prefix Sums.</div>
        </div>

        <div class="slide">
            <span class="tag">Solution 3</span>
            <h2>Frequency Array of Prefix Sums</h2>
            <div class="code-container">
<pre>
<span class="kwd">int</span> main() {
    <span class="kwd">int</span> n <span class="op">=</span> <span class="num">5</span>, k <span class="op">=</span> <span class="num">3</span>;
    <span class="kwd">int</span> arr[] <span class="op">=</span> {<span class="num">1</span>, <span class="num">2</span>, <span class="num">3</span>, <span class="num">0</span>, <span class="num">3</span>};
    <span class="kwd">int</span> freq[<span class="num">100005</span>] <span class="op">=</span> {<span class="num">0</span>}; <span class="com">// Map sum -> count</span>
    
    <span class="kwd">int</span> count <span class="op">=</span> <span class="num">0</span>;
    <span class="kwd">int</span> curr_sum <span class="op">=</span> <span class="num">0</span>;

    <span class="com">// IMPORTANT: Sum 0 has occurred once (before array starts)</span>
    freq[<span class="num">0</span>] <span class="op">=</span> <span class="num">1</span>;

    <span class="kwd">for</span>(<span class="kwd">int</span> i <span class="op">=</span> <span class="num">0</span>; i <span class="op">&lt;</span> n; i<span class="op">++</span>) {
        curr_sum <span class="op">+=</span> arr[i];
        
        <span class="kwd">int</span> needed <span class="op">=</span> curr_sum <span class="op">-</span> k;
        
        <span class="com">// If 'needed' sum appeared before, we found subarrays!</span>
        <span class="kwd">if</span>(needed <span class="op">&gt;=</span> <span class="num">0</span>) {
            count <span class="op">+=</span> freq[needed];
        }

        freq[curr_sum]<span class="op">++</span>;
    }
    <span class="com">// Output count</span>
}
</pre>
            </div>
        </div>

        <div class="slide">
            <span class="tag">Problem 4: The Transformation Trick</span>
            <h2>Equal Number of 0s and 1s</h2>
            <div class="visual-box">
                <strong>Input:</strong> <code>[1, 0, 1, 1, 0, 0]</code><br>
                <strong>Goal:</strong> Longest subarray with equal 0s and 1s.
            </div>
            <h3>Transformation Technique</h3>
            <p>If we treat <strong>0 as -1</strong> and <strong>1 as 1</strong>...<br>
            What is the sum of a subarray with equal amounts?</p>
            <p style="font-size: 2rem; color: var(--accent-yellow); text-align: center;">Sum = 0</p>
            <p>So the problem becomes: <strong>"Longest subarray with Sum = 0"</strong></p>
        </div>

        <div class="slide">
            <span class="tag">Solution 4</span>
            <h2>Handling Negative Indices</h2>
            <p>Since sums can be negative (e.g., -1, -2), we can't use <code>freq[-2]</code>. We need an <strong>offset</strong>.</p>
            <div class="code-container">
<pre>
<span class="kwd">int</span> main() {
    <span class="kwd">int</span> n <span class="op">=</span> <span class="num">6</span>;
    <span class="kwd">int</span> arr[] <span class="op">=</span> {<span class="num">1</span>, <span class="num">0</span>, <span class="num">1</span>, <span class="num">1</span>, <span class="num">0</span>, <span class="num">0</span>};
    
    <span class="com">// first_seen stores the INDEX where a sum first appeared</span>
    <span class="kwd">int</span> first_seen[<span class="num">200005</span>];
    <span class="com">// Initialize with -2 (indicating not seen)</span>
    <span class="kwd">for</span>(<span class="kwd">int</span> j<span class="op">=</span><span class="num">0</span>; j<span class="op">&lt;</span><span class="num">200005</span>; j<span class="op">++</span>) first_seen[j] <span class="op">=</span> <span class="op">-</span><span class="num">2</span>;

    <span class="kwd">int</span> offset <span class="op">=</span> <span class="num">100000</span>; <span class="com">// To handle negative sums</span>
    <span class="kwd">int</span> curr_sum <span class="op">=</span> <span class="num">0</span>;
    <span class="kwd">int</span> max_len <span class="op">=</span> <span class="num">0</span>;

    first_seen[<span class="num">0</span> <span class="op">+</span> offset] <span class="op">=</span> <span class="op">-</span><span class="num">1</span>; <span class="com">// Sum 0 seen at virtual index -1</span>

    <span class="kwd">for</span>(<span class="kwd">int</span> i <span class="op">=</span> <span class="num">0</span>; i <span class="op">&lt;</span> n; i<span class="op">++</span>) {
        <span class="kwd">int</span> val <span class="op">=</span> (arr[i] <span class="op">==</span> <span class="num">0</span>) <span class="op">?</span> <span class="op">-</span><span class="num">1</span> : <span class="num">1</span>;
        curr_sum <span class="op">+=</span> val;

        <span class="kwd">if</span>(first_seen[curr_sum <span class="op">+</span> offset] <span class="op">!=</span> <span class="op">-</span><span class="num">2</span>) {
            <span class="com">// We saw this sum before! The subarray between is 0.</span>
            <span class="kwd">int</span> len <span class="op">=</span> i <span class="op">-</span> first_seen[curr_sum <span class="op">+</span> offset];
            <span class="kwd">if</span>(len <span class="op">&gt;</span> max_len) max_len <span class="op">=</span> len;
        } <span class="kwd">else</span> {
            first_seen[curr_sum <span class="op">+</span> offset] <span class="op">=</span> i;
        }
    }
}
</pre>
            </div>
        </div>

        
        <div class="slide">
            <div style="text-align: center; margin-top: 100px;">
                <h1 style="color: var(--accent-green);">Class Dismissed!</h1>
                <div style="text-align: left; max-width: 600px; margin: 0 auto; font-size: 1.4rem; line-height: 2;">
                    <p><strong>Recap:</strong></p>
                    <ul>
                        <li><span style="color:var(--accent-blue)">Prefix Sum:</span> O(1) Range Queries.</li>
                        <li><span style="color:var(--accent-yellow)">Freq Array:</span> Count occurrences / Find needed values.</li>
                    </ul>
                </div>
                <h3 style="margin-top: 50px;">MIST COMPUTER CLUB</h3>
            </div>
        </div>

    </div>

    <div class="controls">
        <button onclick="prevSlide()">&#8592; Back</button>
        <button onclick="nextSlide()">Next &#8594;</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) slide.classList.add('active');
            });
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                showSlide(currentSlide);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                showSlide(currentSlide);
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>